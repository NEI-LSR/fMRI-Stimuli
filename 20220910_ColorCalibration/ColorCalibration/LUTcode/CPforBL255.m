function [bsuccess] = CPforBL255(mx)% ColourPatch.mglobal windowPTR gray% Open the chosen screen.% For an explanation of the parameters, type Screen OpenwindowPTR? at the MatLab prompt.%Screen('LoadNormalizedGammaTable',windowPTR,linspace(0,(255/256),256)'*ones(1,3));%Screen('LoadNormalizedGammaTable',windowPTR,linspace(0,1,256)'*ones(1,3));%Clut( 1, : ) = gray(1,:);%BitsPlusSetClut(windowPTR,Clut);% Draw the square on both screens.[screenWidth, screenHeight]=Screen('windowSize', windowPTR);size = min([screenWidth screenHeight]);squaresize = size; % Changed by SD 2021 from /6 to /2xpos = screenWidth/2; ypos = screenHeight/2;Screen('FillRect', windowPTR, gray);Screen('FillOval', windowPTR, mx, [ xpos-squaresize/2 ypos-squaresize/2 xpos+squaresize/2 ypos+squaresize/2 ] );%disp(['Reading #' num2str(i) ': ' num2str(mx(i)*[1 0 0])]);disp(['Reading #' num2str(1) ': ' num2str(mx(1,:))]);Screen(windowPTR, 'Flip', 0, 1 );%KbStrokeWait;bsuccess = 1;